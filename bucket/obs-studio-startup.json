{
    "version": "32.0.4",
    "description": "Video recording and live streaming software",
    "homepage": "https://obsproject.com",
    "license": "GPL-2.0-only",
    "notes": [
        "Add Virtual Camera module by running: \"$dir\\data\\obs-plugins\\win-dshow\\virtualcam-install.bat\"",
        "Remove it by running: \"$dir\\data\\obs-plugins\\win-dshow\\virtualcam-uninstall.bat\""
    ],
    "architecture": {
        "64bit": {
            "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-32.0.4-Windows-x64.zip",
            "hash": "fd367a7f156319426f1a600720c1288ad0011da168dff41e0f94dbb18cc1dc0f",
            "shortcuts": [
                [
                    "bin\\64bit\\obs64.exe",
                    "OBS Studio"
                ],
                [
                    "bin\\64bit\\obs64.exe",
                    "OBS Studio Startup",
                    "--disable-shutdown-check"
                ]
            ]
        },
        "arm64": {
            "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-32.0.4-Windows-arm64.zip",
            "hash": "89ff3f7a065089d6527837663d5fda79df64cffce480a129abe04d49745a204b",
            "shortcuts": [
                [
                    "bin\\64bit\\obs64.exe",
                    "OBS Studio"
                ]
            ]
        }
    },
    "pre_install": "if (!(Test-Path \"$persist_dir\\portable_mode.txt\")) { New-Item \"$dir\\portable_mode.txt\" | Out-Null }",
    "persist": [
        "config",
        "portable_mode.txt",
        "obs-plugins"
    ],
    "post_install": [
        "if (!(Test-Path \"$dir\\obs-plugins.original\")) { return }",
        "Copy-Item \"$dir\\obs-plugins.original\\*\" \"$dir\\obs-plugins\" -Recurse -Force",
        "Remove-Item \"$dir\\obs-plugins.original\" -Recurse -Force",
        "Invoke-WebRequest -Uri \"https://github.com/joaoricarte/jr-bucket/raw/refs/heads/main/scripts/obs-studio-startup/OBS.xml\" -OutFile \"$dir\\OBS.xml\"",
        "schtasks /create /tn \"\\OBS\" /xml \"$dir\\OBS.xml\" /f"
    ],
    "checkver": {
        "github": "https://github.com/obsproject/obs-studio"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-$version-Windows-x64.zip"
            },
            "arm64": {
                "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-$version-Windows-arm64.zip"
            }
        },
        "hash": {
            "url": "https://github.com/obsproject/obs-studio/releases/$version",
            "regex": "(?sm)$basename.*?$sha256"
        }
    }
}
